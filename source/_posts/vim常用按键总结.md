---
title: vim常用按键总结
date: 2017-11-08 17:09:53
author:
	nick: jizx
tags:
- linux
- vim
categories:
- linux
- vim
---

<Excerpt in index | 首页摘要> 
通过对linux中自带的vimtutor命令学习，然后对常用的vim命令进行总结，方便以后忘记了常看
<!-- more -->
<The rest of contents | 余下全文>

```
vim file +n ：打开文件并跳到第N行

默认显示行号：编辑或新建~/.vimrc   添加一行 set nu 即可，或者在/etc/vimrc 内编辑
```

## 命令模式

命令的基本模式 `operation [number] range`

### 定位移动

		k上
	h左   	l右
	 	j下

	4h 左4个字符     4k 上4行     4j 下4行     4l 右4个字符

	2gg:定位到第2行代码，等同于2G
	2G:定位到第2行代码
	gg:定位到整个代码的第1行
	G:定位到整个代码的最后一行

	0:行首
	$:行尾

	e:向后跳到该单词结束处
	w:向后跳一个单词的长度，即调到下一个单词的开始处
	b:向前跳一个单词的长度，即调到上一个单词的开始处
	2e,2w,2b表示移动2个单位

	H:当前屏幕可见的第一行
	M:当前屏幕可见的中间
	L:当前屏幕可见的最后一行

### 编辑

	i:光标处插入
	a:光标后一个字符处插入
	A:光标所在行末尾插入
	o:光标下方新建一行
	O:光标上方新建一行

	p: 粘贴
	y:复制选择的文本
	yw或ye:复制一个单词
	yy: 复制 光标所在的这一行
	4yy: 复制 光标所在行开始向下的4行

	dd:剪切 光标所在的这一行
	2dd:剪切 光标所在行 向下 2行
	d0:从当前的光标开始剪切，一直到行首
	D:从当前的光标开始剪切，一直到行末

	dw:删除光标后的一个单词
	d2w：删除光标后2个单词
	x:删除当前的光标，每次只会删除一个
	X:删除当前光标前面的那个，每次只会删除一个

	r:替换光标后的一个字符
	R:连续替换光标后的字符

	ce或cw:修改该单词到单词结尾
	c$:修改光标后该行的全部内容

	.:重复执行上一次的命令

	u:撤销最后的操作
	U：撤销对整行的修改
	ctrl+r:反撤销

### 翻页

	ctrl+f--->向下翻一页代码
	ctrl+b--->向上翻一页代码

	ctrl+d--->向下翻半页代码
	ctrl+u--->向上翻半页代码


	v 选中一片代码，然后可以配合d,x,y等进行修改，也可以进来末行模式:w filename 进行另存

	V:

	>>:向右移动代码
	<<:向左移动代码

	shift+zz:相当于wq

### 查找与替换

```
/xxx   向下查找关键字xxx
/xxx\c 忽略大小写
?xxx   向上查找关键字xxx
?xxx\c 忽略大小写
输入n则继续查找下一个匹配
ctrl+o 光标跳转到查询到的上一个位置
ctrl+i  光标跳转到查询到的下一个位置

% 快速查找光标所在处的括号所匹配的另一个括号 (),[],{}

:s/old/new		 替换该行第一个匹配串
:s/old/new/g	  替换该行全部匹配串
:#,#s/old/new/g   替换#到#行之间的词
:%s/old/new/gc	  替换全文匹配串，并逐个询问是否替换
```



## 末行模式

	:w 保存
	:w  filename 保存为指定的文件
	:q 退出
	:wq 保存并且推出
	:x 等同于wq
	:r filename  读取外部文件粘贴到光标处
	:r !ls      获取命令输出内容粘贴到光标处

​

### 常用设置

```
:set ic		查询关键字时忽略大小写
:set is		查询关键字时显示部分匹配
:set hls    高亮显示匹配到的关键字‘hlsearch’
:set cp     兼容模式
:set noxxx  关闭上面对应的设置

:set encoding=utf-8	 设置编码
:set number			显示行号
:set ruler			右下角显示光标当前位置信息
:set cursorline		突出当前行
:set tabstop=4		设置缩进宽度
:set shiftwidth=4	 设置缩进宽度
可以将这些设置偏好设置到 ~/.vimrc文件中
```





